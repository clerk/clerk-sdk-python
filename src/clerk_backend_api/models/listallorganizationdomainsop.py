"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from clerk_backend_api.types import BaseModel, UNSET_SENTINEL
from clerk_backend_api.utils import FieldMetadata, QueryParamMetadata
from enum import Enum
from pydantic import model_serializer
from typing import List, Optional
from typing_extensions import Annotated, NotRequired, TypedDict


class Verified(str, Enum):
    r"""Filter by verification status"""

    TRUE = "true"
    FALSE = "false"


class QueryParamEnrollmentMode(str, Enum):
    MANUAL_INVITATION = "manual_invitation"
    AUTOMATIC_INVITATION = "automatic_invitation"
    AUTOMATIC_SUGGESTION = "automatic_suggestion"


class ListAllOrganizationDomainsRequestTypedDict(TypedDict):
    organization_id: NotRequired[str]
    r"""The ID of the organization to filter domains by"""
    verified: NotRequired[Verified]
    r"""Filter by verification status"""
    enrollment_mode: NotRequired[List[QueryParamEnrollmentMode]]
    r"""Filter by enrollment mode"""
    query: NotRequired[str]
    r"""Search domains by name or organization ID.
    If the query starts with \"org_\", it will search by exact organization ID match.
    Otherwise, it performs a case-insensitive partial match on the domain name.

    Note: An empty string or whitespace-only value is not allowed and will result in a validation error.

    """
    domains: NotRequired[List[str]]
    r"""Filter by exact domain names. Accepts multiple values (e.g. domains=example.com&domains=test.org)."""
    order_by: NotRequired[str]
    r"""Allows to return organization domains in a particular order.
    At the moment, you can order the returned domains by their `name` or `created_at`.
    In order to specify the direction, you can use the `+/-` symbols prepended to the property to order by.
    For example, if you want domains to be returned in descending order according to their `created_at` property, you can use `-created_at`.
    If you don't use `+` or `-`, then `+` is implied.
    Defaults to `-created_at`.

    """
    offset: NotRequired[int]
    r"""Skip the first `offset` results when paginating.
    Needs to be an integer greater or equal to zero.
    To be used in conjunction with `limit`.
    """
    limit: NotRequired[int]
    r"""Applies a limit to the number of results returned.
    Can be used for paginating the results together with `offset`.
    """


class ListAllOrganizationDomainsRequest(BaseModel):
    organization_id: Annotated[
        Optional[str],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = None
    r"""The ID of the organization to filter domains by"""

    verified: Annotated[
        Optional[Verified],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = None
    r"""Filter by verification status"""

    enrollment_mode: Annotated[
        Optional[List[QueryParamEnrollmentMode]],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=False)),
    ] = None
    r"""Filter by enrollment mode"""

    query: Annotated[
        Optional[str],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = None
    r"""Search domains by name or organization ID.
    If the query starts with \"org_\", it will search by exact organization ID match.
    Otherwise, it performs a case-insensitive partial match on the domain name.

    Note: An empty string or whitespace-only value is not allowed and will result in a validation error.

    """

    domains: Annotated[
        Optional[List[str]],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = None
    r"""Filter by exact domain names. Accepts multiple values (e.g. domains=example.com&domains=test.org)."""

    order_by: Annotated[
        Optional[str],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = "-created_at"
    r"""Allows to return organization domains in a particular order.
    At the moment, you can order the returned domains by their `name` or `created_at`.
    In order to specify the direction, you can use the `+/-` symbols prepended to the property to order by.
    For example, if you want domains to be returned in descending order according to their `created_at` property, you can use `-created_at`.
    If you don't use `+` or `-`, then `+` is implied.
    Defaults to `-created_at`.

    """

    offset: Annotated[
        Optional[int],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = 0
    r"""Skip the first `offset` results when paginating.
    Needs to be an integer greater or equal to zero.
    To be used in conjunction with `limit`.
    """

    limit: Annotated[
        Optional[int],
        FieldMetadata(query=QueryParamMetadata(style="form", explode=True)),
    ] = 10
    r"""Applies a limit to the number of results returned.
    Can be used for paginating the results together with `offset`.
    """

    @model_serializer(mode="wrap")
    def serialize_model(self, handler):
        optional_fields = set(
            [
                "organization_id",
                "verified",
                "enrollment_mode",
                "query",
                "domains",
                "order_by",
                "offset",
                "limit",
            ]
        )
        serialized = handler(self)
        m = {}

        for n, f in type(self).model_fields.items():
            k = f.alias or n
            val = serialized.get(k)

            if val != UNSET_SENTINEL:
                if val is not None or k not in optional_fields:
                    m[k] = val

        return m
